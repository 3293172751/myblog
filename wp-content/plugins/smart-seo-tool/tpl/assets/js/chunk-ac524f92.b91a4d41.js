(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ac524f92"],{"29dd":function(t,e,a){"use strict";var s=a("5b20"),i=a("e8e0"),n=a("3a32"),r=a("f50a"),c="toString",o=RegExp.prototype,l=o[c],p=n((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),u=l.name!=c;(p||u)&&s(RegExp.prototype,c,(function(){var t=i(this),e=String(t.source),a=t.flags,s=String(void 0===a&&t instanceof RegExp&&!("flags"in o)?r.call(t):a);return"/"+e+"/"+s}),{unsafe:!0})},"46d5":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wbs-title-format"},[a("table",{staticClass:"wbs-form-table"},[a("tbody",[a("tr",[a("th",{staticClass:"row w8em"},[t._v("标题")]),a("td",[a("div",{staticClass:"input-with-count"},[a("wbs-title-format",{attrs:{cnf:{dropdownItems:t.cnf.titleVariables},opt:t.tdk[0]},on:{change:t.title_handler}}),a("span",{staticClass:"count"})],1),a("p",{staticClass:"description"},[t._v("一般不超过30个中文字符。")])])]),a("tr",[a("th",[t._v("关键词")]),a("td",[t.cnf.kwMode?a("div",{staticClass:"input-with-count"},[a("wbs-kw-format",{attrs:{cnf:{dropdownItems:t.cnf.titleVariables,variableOnly:!0},opt:t.tdk[1]},on:{change:t.kw_handler}})],1):a("label",{staticClass:"input-with-count wb-tags-module"},[a("wbs-tags-module",{attrs:{tags:t.tdk[1]},on:{"set-tags":t.kw_cpt}})],1),a("p",{staticClass:"description"},[t._v("建议3-5个为宜，切勿进行关键词堆叠。")])])]),a("tr",[a("th",[t._v("描述")]),a("td",[a("div",{staticClass:"input-with-count"},[a("wbs-description-format",{staticClass:"wbs-input-textarea",attrs:{cnf:{dropdownItems:t.cnf.titleVariables},opt:t.tdk[2]},on:{change:t.desc_handler}})],1),a("p",{staticClass:"description"},[t._v("不超100个中文字符，建议50-100字为宜。")])])]),""!=t.tdk[0]||""!=t.tdk[2]?a("tr",[a("th",[t._v("预览")]),a("td",[a("div",{staticClass:"preview-box"},[a("div",{staticClass:"pvb-display"},[a("a",{staticClass:"preview-title"},[t._v(t._s(t.title_preview))]),a("p",{staticClass:"preview-desc"},[t._v(t._s(t.desc_preview))]),a("p",{staticClass:"preview-link"},[t._v(t._s(t.home_url("")))])]),a("div",{staticClass:"pvb-ft"},[t._v("* 搜索引擎收录结果展示预览")])])])]):t._e()])])])},i=[],n=(a("63ba"),a("a336"),a("9065"),a("71d0"),a("86be"),a("29dd"),a("9cda")),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"wb-tags-ctrl"},[a("div",{staticClass:"tag-items"},t._l(t.taglist,(function(e,s){return t.taglist.length?a("div",{staticClass:"tag-item"},[a("span",{staticClass:"vam ib",domProps:{innerHTML:t._s(t.displayFormat(e))}}),a("a",{staticClass:"del",attrs:{"data-del-val":e},on:{click:function(e){return t.delItem(s)}}})]):t._e()})),0),a("input",{directives:[{name:"model",rawName:"v-model",value:t.cur_input,expression:"cur_input"}],staticClass:"wb-tag-input",attrs:{type:"text",placeholder:"输入选项值, 回车确认 *"},domProps:{value:t.cur_input},on:{keyup:t.wbTagInput,input:function(e){e.target.composing||(t.cur_input=e.target.value)}}})])},c=[],o=(a("2cde"),a("b170"),a("a08b"),a("5938"),{name:"wbsTags",props:{tags:String,format:String},data:function(){return{cur_input:"",taglist:[],keycode:null}},created:function(){this.taglist=this.tags?this.tags.split(","):[]},methods:{wbTagInput:function(t){var e=this,a=t.keyCode;13===a&&e.wbTagPush()},wbTagPush:function(t){var e=this;return""!=e.cur_input&&(e.taglist.indexOf(e.cur_input.trim())>-1?(wbui.toast("已存在"),e.cur_input="",!1):(e.taglist.push(e.cur_input),e.$emit("set-tags",e.taglist.join(",")),e.cur_input="",!1))},delItem:function(t){var e=this;wbui.confirm("确认删除该选项？",(function(){e.taglist.splice(t,1),e.$emit("set-tags",e.taglist.join(",")),wbui.toast("已移除")}))},displayFormat:function(t){var e=t.split(":");return e.length>1?e[1]+'<em class="wk">(别名:'+e[0]+")</em>":t}},computed:{}}),l=o,p=a("5d22"),u=Object(p["a"])(l,r,c,!1,null,null,null),d=u.exports,f={name:"TdkSetter",props:{opt:{type:Array,value:[]},cnf:{type:Object,value:{separator:"",titleVariables:{},kwMode:0}}},components:{"wbs-title-format":n["a"],"wbs-kw-format":n["a"],"wbs-description-format":n["a"],"wbs-tags-module":d},data:function(){var t=this;return{tdk:t.opt||["","",""],title_preview:"",desc_preview:"",variables_keys_title:Object.keys(t.cnf.titleVariables)}},computed:{},created:function(){},mounted:function(){var t=this;t.title_preview=t.preview_handler(t.opt[0],t.cnf.titleVariables),t.desc_preview=t.preview_handler(t.opt[2],t.cnf.titleVariables)},methods:{title_handler:function(t){var e=this;e.tdk[0]=t,e.title_preview=e.preview_handler(t,e.cnf.titleVariables),e.$emit("change",e.tdk)},kw_handler:function(t){var e=this;t=t.replace(/(%\w+%)/g,",$1,"),t=t.replace(/,,/g,","),t=t.replace(/^,/g,""),t=t.replace(/,$/gi,""),e.tdk[1]=t,e.$emit("change",e.tdk)},kw_cpt:function(t){var e=this;e.tdk[1]=t,e.$emit("change",e.tdk)},desc_handler:function(t){var e=this;e.tdk[2]=t,e.desc_preview=e.preview_handler(t,e.cnf.titleVariables),e.$emit("change",e.tdk)},preview_handler:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=this,s=Object.keys(e);return""==t?"":(s.forEach((function(a){if(t.indexOf(a)<0)return!1;t=t.replace(new RegExp(a,"g")," "+e[a]+" ")})),t=t.replace(new RegExp("分隔符","g"),a.cnf.separator),t=t.replace(new RegExp("站点标题","g"),a.$cnf.site_info.site_title),t=t.replace(new RegExp("站点副标题","g"),a.$cnf.site_info.site_subtitle),t)},home_url:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=this;return e.$cnf.home_url+t}},watch:{opt:{handler:function(t){var e=this;e.tdk=t}}}},v=f,b=Object(p["a"])(v,s,i,!1,null,null,null);e["a"]=b.exports},"86be":function(t,e,a){var s=a("14b8"),i=a("cc50"),n=a("af0d"),r=a("aeec"),c=a("15b7").f,o=a("d7eb").f,l=a("7e76"),p=a("f50a"),u=a("d0da"),d=a("5b20"),f=a("3a32"),v=a("4183").set,b=a("bac2"),_=a("0ebe"),g=_("match"),h=i.RegExp,w=h.prototype,m=/a/g,k=/a/g,C=new h(m)!==m,y=u.UNSUPPORTED_Y,x=s&&n("RegExp",!C||y||f((function(){return k[g]=!1,h(m)!=m||h(k)==k||"/a/i"!=h(m,"i")})));if(x){var $=function(t,e){var a,s=this instanceof $,i=l(t),n=void 0===e;if(!s&&i&&t.constructor===$&&n)return t;C?i&&!n&&(t=t.source):t instanceof $&&(n&&(e=p.call(t)),t=t.source),y&&(a=!!e&&e.indexOf("y")>-1,a&&(e=e.replace(/y/g,"")));var c=r(C?new h(t,e):h(t,e),s?this:w,$);return y&&a&&v(c,{sticky:a}),c},E=function(t){t in $||c($,t,{configurable:!0,get:function(){return h[t]},set:function(e){h[t]=e}})},j=o(h),O=0;while(j.length>O)E(j[O++]);w.constructor=$,$.prototype=w,d(i,"RegExp",$)}b("RegExp")},a08b:function(t,e,a){"use strict";var s=a("bde0"),i=a("bd65"),n=a("52fa"),r=a("1201"),c=[].join,o=i!=Object,l=r("join",",");s({target:"Array",proto:!0,forced:o||!l},{join:function(t){return c.call(n(this),void 0===t?",":t)}})},aeec:function(t,e,a){var s=a("b0f9"),i=a("eaf1");t.exports=function(t,e,a){var n,r;return i&&"function"==typeof(n=e.constructor)&&n!==a&&s(r=n.prototype)&&r!==a.prototype&&i(t,r),t}},d451:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"steps-card-box"},[a("div",{staticClass:"wbs-main"},[a("div",{staticClass:"step-desc"},[t._v(" 此处仅设置网站标题、描述及关键词等首页TDK基本信息。其他页面TDK信息，完成插件配置后可进入TDK优化设置。 ")]),t.is_loaded?a("table",{staticClass:"wbs-form-table"},[a("tbody",[a("tr",[a("th",{staticClass:"row w8em"},[t._v("标题分隔符号")]),a("td",{staticClass:"info"},[a("div",{staticClass:"wbs-selector-separators"},t._l(t.separator,(function(e){return a("label",{key:e,staticClass:"selector-item",class:{selected:e==t.opt.separator}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.opt.separator,expression:"opt.separator"}],attrs:{type:"radio"},domProps:{value:e,checked:t._q(t.opt.separator,e)},on:{change:function(a){return t.$set(t.opt,"separator",e)}}}),t._v(t._s(e))])})),0)])])])]):t._e(),t.is_loaded?a("wbs-tdk-setter",{attrs:{cnf:{separator:t.opt.separator,titleVariables:t.title_variables},opt:t.opt.index_tdk},on:{change:function(e){t.opt.index_tdk=e}}}):t._e()],1),a("div",{staticClass:"steps-card-ft"},[a("div",{staticClass:"scft-item primary"},[a("button",{staticClass:"wbs-btn-outlined",attrs:{type:"button"},on:{click:t.prev}},[t._v("< 上一步")])]),a("div",{staticClass:"scft-item"},[a("button",{staticClass:"wbs-btn-primary",attrs:{type:"button"},on:{click:t.update_data}},[t._v("下一步 >")])])])])},i=[],n=a("365c"),r=a("46d5"),c={name:"GuideStep3",data:function(){var t=this;return{form_changed:1,is_loaded:0,is_pro:t.$cnf.is_pro,separator:[],title_variables:{},opt:{index:["","",""],separator:"-"},cnf:{}}},components:{"wbs-tdk-setter":r["a"]},created:function(){var t=this;t.get_data()},methods:{get_data:function(){var t=this;Object(n["b"])({action:t.$cnf.action.act,op:"get_guide"}).then((function(e){t.opt=e["data"];var a=e["cnf"];t.separator=a.separator,t.title_variables=a.title_variables,t.is_loaded=1}))},update_data:function(t){var e=this;e.opt.step=3,Object(n["c"])({action:e.$cnf.action.act,op:"set_guide",opt:e.opt}).then((function(a){e.form_changed=1,e.$emit("next",!0),"function"==typeof t&&t&&t()}))},prev:function(){this.$emit("prev",!0)}},watch:{},beforeRouteLeave:function(t,e,a){var s=this;s.form_changed>1?wbui.open({content:"您修改的设置尚未保存，确定离开此页面吗？",btn:["保存并离开","放弃修改"],yes:function(){return a(!1),s.update_data((function(){a()})),!1},no:function(){return a(),!1}}):a()}},o=c,l=a("5d22"),p=Object(l["a"])(o,s,i,!1,null,null,null);e["default"]=p.exports}}]);